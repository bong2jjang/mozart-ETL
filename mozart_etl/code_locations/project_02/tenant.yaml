tenant:
  id: project_02
  name: "PROJECT_02 (APS)"
  source:
    type: postgresql
    host: "${PROJECT_01_DB_HOST:localhost}"
    port: "${PROJECT_01_DB_PORT:5432}"
    database: "${PROJECT_01_DB_NAME:mzc_aps}"
    username: "${PROJECT_01_DB_USER:mzcadm}"
    password: "${PROJECT_01_DB_PASSWORD:mzcadm}"
  params:
    project_id: "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"
  storage:
    bucket: "${S3_BUCKET_NAME:data-lake}"
    prefix: "raw/project_02"
  iceberg:
    catalog: iceberg
    schema: project_02
  schedule: "0 */2 * * *"

tables:
  - name: cfg_item_master
    source_schema: public
    source_table: cfg_item_master
    primary_key: [project_id, item_id]
    columns:
      - project_id
      - item_id
      - item_type
      - item_name
      - item_group_id
      - description
      - item_priority
      - procurement_type
      - prod_type
      - item_size_type
      - item_spec
      - create_datetime
      - update_datetime
    tenant_filter: project_id
    incremental_column: update_datetime
    mode: incremental
